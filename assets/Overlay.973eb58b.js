import{a1 as u,a5 as C,ah as K,ai as R,ad as S,aJ as T,X as d,a6 as w,P as D,d as i,z as h,aK as H,S as M}from"./index.5ae66943.js";import{a as V,c as W,u as z,r as A,m as F}from"./store.2178eaab.js";const I=27,J=()=>{};function L(e,r,o={}){u(!1);const s=r||J;V(e,s,{get disabled(){return o.disabled},get clickTrigger(){return o.clickTrigger}});const g=t=>{t.keyCode===I&&s(t)};C(()=>{if(o.disabled||e()==null)return;const t=K(e());let n=(t.defaultView||window).event;const c=R(t,"keyup",l=>{if(l===n){n=void 0;return}g(l)});S(()=>{c()})})}const U=e=>{const[r,o]=u(),[s,g]=u(),[t,n]=u(!e.show),c=T({get ref(){return e.container}}),[l,y]=W({}),f=d(()=>!!(e.show||e.transition&&!t()));w(()=>{y(A(F({enabled:f(),placement:e.placement,enableEvents:f(),containerPadding:e.containerPadding||5,flip:e.flip,offset:e.offset,arrowElement:s(),popperConfig:e.popperConfig??{}})))});const a=z(e.target,r,l);w(()=>{e.show?t()&&n(!1):!e.transition&&!t()&&n(!0)});const b=(...k)=>{n(!0),e.onExited&&e.onExited(...k)};C(()=>{r()&&L(r,e.onHide,{get disabled(){return!e.rootClose||e.rootCloseDisabled||!e.show},get clickTrigger(){return e.rootCloseEvent}})});const x=d(()=>({...a()?.attributes.popper,style:a()?.styles.popper,ref:o})),v=d(()=>({...a()?.attributes.arrow,style:a()?.styles.arrow,ref:g})),P=d(()=>({popper:a(),placement:e.placement,show:!!e.show})),O=D(()=>e.children),m=()=>h(()=>O()(x,v,P));let E;return i(M,{get when(){return h(()=>!!c(),!0)()&&f()},get children(){return i(H,{get mount(){return c()},get children(){return h(()=>!!(E=e.transition),!0)()?i(E,{appear:!0,get in(){return e.show},get onExit(){return e.onExit},get onExiting(){return e.onExiting},onExited:b,get onEnter(){return e.onEnter},get onEntering(){return e.onEntering},get onEntered(){return e.onEntered},get children(){return i(m,{})}}):i(m,{})}})}})};var j=U;export{j as O};
