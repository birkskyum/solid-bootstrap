import{f as u,h as C,a2 as R,a3 as S,Z as T,at as D,n as d,Q as w,E as K,c as i,o as h,au as H,S as M}from"./index.7b72cfc3.js";import{a as V,c as W,r as A,m as F,u as I}from"./store.c1211f7e.js";const L=27,Q=()=>{};function U(e,r,o={}){u(!1);const s=r||Q;V(e,s,{get disabled(){return o.disabled},get clickTrigger(){return o.clickTrigger}});const g=t=>{t.keyCode===L&&s(t)};C(()=>{if(o.disabled||e()==null)return;const t=R(e());let n=(t.defaultView||window).event;const c=S(t,"keyup",l=>{if(l===n){n=void 0;return}g(l)});T(()=>{c()})})}const Z=e=>{const[r,o]=u(),[s,g]=u(),[t,n]=u(!e.show),c=D({get ref(){return e.container}}),[l,y]=W({}),f=d(()=>!!(e.show||e.transition&&!t()));w(()=>{y(A(F({enabled:f(),placement:e.placement,enableEvents:f(),containerPadding:e.containerPadding||5,flip:e.flip,offset:e.offset,arrowElement:s(),popperConfig:e.popperConfig??{}})))});const a=I(e.target,r,l);w(()=>{e.show?t()&&n(!1):!e.transition&&!t()&&n(!0)});const b=(...k)=>{n(!0),e.onExited&&e.onExited(...k)};C(()=>{r()&&U(r,e.onHide,{get disabled(){return!e.rootClose||e.rootCloseDisabled||!e.show},get clickTrigger(){return e.rootCloseEvent}})});const x=d(()=>({...a()?.attributes.popper,style:a()?.styles.popper,ref:o})),v=d(()=>({...a()?.attributes.arrow,style:a()?.styles.arrow,ref:g})),O=d(()=>({popper:a(),placement:e.placement,show:!!e.show})),P=K(()=>e.children),m=()=>h(()=>P()(x,v,O));let E;return i(M,{get when(){return h(()=>!!c(),!0)()&&f()},get children(){return i(H,{get mount(){return c()},get children(){return h(()=>!!(E=e.transition),!0)()?i(E,{appear:!0,get in(){return e.show},get onExit(){return e.onExit},get onExiting(){return e.onExiting},onExited:b,get onEnter(){return e.onEnter},get onEntering(){return e.onEntering},get onEntered(){return e.onEntered},get children(){return i(m,{})}}):i(m,{})}})}})};var q=Z;export{q as O};
